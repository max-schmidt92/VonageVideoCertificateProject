<html>
<body>
<!-- Load opentok Javascript library -->
<script src="https://static.opentok.com/v2/js/opentok.js"></script>
<script>

    // credentials
    var apiKey = '45828062'; // <INSER_API_KEY>
    var sessionId = '2_MX40NTgyODA2Mn5-MTU4Njg1MjkxMzQ4NX40TzJra2dubWUzanpzNXhvN2xXblR2VXp-UH4'; //<INSERT_SESSION_ID>
    var token = 'T1==cGFydG5lcl9pZD00NTgyODA2MiZzaWc9NGNkZGMzMzQ4Y2EwZTgwMDYzNjVjZTQ1Yjg1ZjRiZmMyMjI2NWRkMjpzZXNzaW9uX2lkPTJfTVg0ME5UZ3lPREEyTW41LU1UVTROamcxTWpreE16UTROWDQwVHpKcmEyZHViV1V6YW5wek5YaHZOMnhYYmxSMlZYcC1VSDQmY3JlYXRlX3RpbWU9MTU4Njg1MjkxOSZub25jZT0wLjIyNjAwNDUxMjA4NzMyODg2JnJvbGU9cHVibGlzaGVyJmV4cGlyZV90aW1lPTE1ODY5MzkzMTk=';
    //<INSERT_TOKEN>

    // Generate a session variable
    var session = OT.initSession(apiKey, sessionId);

    // Generate a publisher variable
    var publisher = OT.initPublisher();

    // Connect to the session
    session.connect(token, function(err) {
        session.publish(publisher);
    });

    // Subscribe the session
    session.on('streamCreated', function(event) {
        session.subscribe(event.stream);
    });

    // You may get errors related to CORS policy from request/response headers, but it does not impact the video session.
    console.log("Server started!")

</script>
</body>
</html>